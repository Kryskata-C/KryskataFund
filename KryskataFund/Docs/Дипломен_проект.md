# ЧАСТНА ПРОФЕСИОНАЛНА ГИМНАЗИЯ ЗА ДИГИТАЛНИ НАУКИ „СОФТУНИ БУДИТЕЛ", гр. София

## ДИПЛОМЕН ПРОЕКТ

**Ученик:** Кристиян Пламенов Ангелов, XII клас

**Професия:** код 481030, "Приложен програмист"

**Специалност:** код 4810301, "Приложно програмиране"

**Тема:** KryskataFund - Уеб платформа за краудфъндинг

**Ръководител-консултант:** ____________________

**Сесия:** май-юни 2026 г.

**Дата:** ____________________

---

# СЪДЪРЖАНИЕ

1. Увод
2. Изложение
   - 2.1. Глава 1 - Проучвателна част
   - 2.2. Глава 2 - Изисквания към програмния продукт
   - 2.3. Глава 3 - Проектен цикъл на приложението
   - 2.4. Глава 4 - Ръководство за потребителя
3. Заключение
4. Информационни източници
5. Приложения

---

# 1. Увод

Дипломният проект представя разработка в областта на уеб програмирането и съвременните технологии за изграждане на интерактивни уеб приложения. Проектът „KryskataFund" е платформа от типа crowdfunding (колективно финансиране), която позволява на потребителите да създават кампании за набиране на средства, да дарява на съществуващи кампании и да следят прогреса на финансирането в реално време.

Основните цели на проекта включват:
- Създаване на пълноценна уеб платформа с модерен потребителски интерфейс
- Имплементиране на система за регистрация и автентикация на потребители
- Разработване на модул за създаване и управление на кампании
- Изграждане на система за дарения с проследяване на прогреса
- Демонстриране на добри практики в уеб разработката чрез ASP.NET Core MVC

Резултатите от проекта включват функционално уеб приложение, изградено с модерни технологии като ASP.NET Core 8, Entity Framework Core, SQLite база данни и персонализиран CSS дизайн с анимации. Платформата демонстрира практическо приложение на MVC архитектурния модел, работа с бази данни, сесийно управление и създаване на интерактивни потребителски интерфейси.

---

# 2. Изложение

## 2.1. Глава 1 - Проучвателна част

### 2.1.1. Анализ на предметната област

Краудфъндингът (crowdfunding) е метод за набиране на финансови средства чрез събиране на малки суми от голям брой хора, обикновено чрез интернет платформи. Този модел на финансиране придоби популярност през последното десетилетие като алтернатива на традиционните методи за финансиране на проекти.

Основните типове краудфъндинг платформи са:
- **Донейшън-базирани** - дарителите не получават материална награда
- **Reward-базирани** - дарителите получават продукт или услуга
- **Equity-базирани** - дарителите получават дял от компанията
- **Debt-базирани** - средствата се връщат с лихва

Проектът KryskataFund се фокусира върху донейшън-базирания модел, при който потребителите могат да подкрепят кампании без очакване за материална награда.

### 2.1.2. Съществуващи решения

На пазара съществуват множество утвърдени краудфъндинг платформи:

**Kickstarter** - една от най-популярните платформи за творчески проекти. Използва "всичко или нищо" модел, при който средствата се събират само ако целта е постигната.

**GoFundMe** - специализирана в лични кампании и благотворителност. Позволява на потребителите да запазят събраните средства независимо от достигането на целта.

**Indiegogo** - предлага гъвкави модели на финансиране и е популярна за технологични иновации.

**Patreon** - базирана на абонаментен модел за подкрепа на създатели на съдържание.

### 2.1.3. Технологичен анализ

За реализацията на уеб приложение от този тип съществуват различни технологични възможности:

**Back-end технологии:**
- ASP.NET Core - модерна, високопроизводителна платформа от Microsoft
- Node.js с Express - JavaScript базирано решение
- Django/Flask - Python базирани framework-ове
- Ruby on Rails - популярен за бърза разработка

**Front-end технологии:**
- Razor Views с HTML/CSS/JavaScript
- React.js - компонентно базирана библиотека
- Vue.js - прогресивен JavaScript framework
- Angular - пълноценен framework от Google

**Бази данни:**
- SQLite - лек и вграден, подходящ за по-малки приложения
- PostgreSQL - мощна релационна база данни
- SQL Server - enterprise решение от Microsoft
- MongoDB - NoSQL документно-ориентирана база

За проекта KryskataFund е избран стекът ASP.NET Core 8 с Entity Framework Core и SQLite, поради следните причини:
- Силна типизация и compile-time проверки чрез C#
- Интегрирана поддръжка за MVC архитектура
- Лесна работа с бази данни чрез Entity Framework Core
- Отлична документация и общност
- Кросплатформена съвместимост

### 2.1.4. Приноси на проекта

Дипломният проект има следните приноси:

1. **Практическо приложение на MVC архитектурата** - демонстрира разделение на отговорностите между модели, изгледи и контролери.

2. **Имплементация на потребителска система** - включва регистрация, вход, профил и персонализация.

3. **Система за управление на кампании** - позволява създаване, редактиране и публикуване на актуализации към кампании.

4. **Интерактивен потребителски интерфейс** - модерен тъмен дизайн с CSS анимации и динамично съдържание.

5. **Real-time функционалност** - live preview при създаване на кампания и актуализация на статистики в реално време.

---

## 2.2. Глава 2 - Изисквания към програмния продукт

### 2.2.1. Функционални изисквания

**Модул за потребители:**
- Регистрация на нов потребител с имейл и парола
- Вход в системата с валидация на данните
- Профилна страница с персонализация
- Система за персонализиране на "buddy" персонаж (очила, шапка, маска)
- Изход от системата

**Модул за кампании:**
- Създаване на нова кампания с заглавие, описание, категория и цел
- Качване на изображение към кампанията (URL или файл)
- Задаване на продължителност на кампанията
- Преглед на детайли за кампания
- Публикуване на актуализации към собствените кампании
- Филтриране на кампании по категория

**Модул за дарения:**
- Дарение към избрана кампания
- Избор на сума за дарение
- Проследяване на прогреса на финансиране
- Показване на списък с дарители

**Модул за главна страница:**
- Показване на всички активни кампании
- Филтриране по категории (Education, Health, Animals, Creative, Dreams, Just for fun, Technology, Community)
- Live статистики (Today's Impact, Avg. Support, Live Campaigns)
- Activity feed с последни събития в реално време
- Търсене на кампании

### 2.2.2. Нефункционални изисквания

**Производителност:**
- Времето за зареждане на страниците да не надвишава 3 секунди
- Поддръжка на множество едновременни потребители
- Оптимизирани заявки към базата данни

**Сигурност:**
- Хеширане на пароли преди съхранение
- Защита от SQL инжекции чрез параметризирани заявки
- Сесийно управление с HttpOnly cookies
- Валидация на входните данни

**Използваемост:**
- Интуитивен и лесен за навигация интерфейс
- Responsive дизайн за различни устройства
- Ясни съобщения за грешки
- Визуална обратна връзка при потребителски действия

**Поддръжка:**
- Модулна архитектура за лесно разширяване
- Документиран код
- Разделение на concerns (MVC)

### 2.2.3. Модел на данните

Системата използва следните основни модели:

**User (Потребител):**
| Поле | Тип | Описание |
|------|-----|----------|
| Id | int | Уникален идентификатор |
| Email | string | Имейл адрес (уникален) |
| PasswordHash | string | Хеширана парола |
| CreatedAt | DateTime | Дата на регистрация |
| BuddyGlasses | string? | Избрани очила за buddy |
| BuddyHat | string? | Избрана шапка за buddy |
| BuddyMask | string? | Избрана маска за buddy |

**Fund (Кампания):**
| Поле | Тип | Описание |
|------|-----|----------|
| Id | int | Уникален идентификатор |
| Title | string | Заглавие на кампанията |
| Description | string | Описание |
| Category | string | Категория |
| GoalAmount | decimal | Целева сума |
| RaisedAmount | decimal | Събрана сума |
| SupportersCount | int | Брой дарители |
| CreatorId | int | ID на създателя |
| CreatorName | string | Име на създателя |
| ImageUrl | string? | URL на изображение |
| CreatedAt | DateTime | Дата на създаване |
| EndDate | DateTime | Крайна дата |
| CategoryColor | string | Цвят на категорията |

**Donation (Дарение):**
| Поле | Тип | Описание |
|------|-----|----------|
| Id | int | Уникален идентификатор |
| FundId | int | ID на кампанията |
| UserId | int | ID на дарителя |
| DonorName | string | Име на дарителя |
| Amount | decimal | Сума на дарението |
| CreatedAt | DateTime | Дата на дарението |

**FundUpdate (Актуализация на кампания):**
| Поле | Тип | Описание |
|------|-----|----------|
| Id | int | Уникален идентификатор |
| FundId | int | ID на кампанията |
| Title | string | Заглавие на актуализацията |
| Content | string | Съдържание |
| CreatedAt | DateTime | Дата на публикуване |

### 2.2.4. Архитектурна диаграма

```
┌─────────────────────────────────────────────────────────────┐
│                      Потребител (Browser)                    │
└─────────────────────────┬───────────────────────────────────┘
                          │ HTTP/HTTPS
                          ▼
┌─────────────────────────────────────────────────────────────┐
│                    ASP.NET Core MVC                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │   Views     │  │ Controllers │  │      Models         │  │
│  │  (Razor)    │◄─┤             │──┤                     │  │
│  │             │  │ - Home      │  │ - User              │  │
│  │ - Index     │  │ - Account   │  │ - Fund              │  │
│  │ - Create    │  │ - Funds     │  │ - Donation          │  │
│  │ - Details   │  │             │  │ - FundUpdate        │  │
│  │ - Profile   │  │             │  │                     │  │
│  └─────────────┘  └──────┬──────┘  └─────────────────────┘  │
└──────────────────────────┼──────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                  Entity Framework Core                       │
│                  ApplicationDbContext                        │
└─────────────────────────┬───────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────┐
│                    SQLite Database                           │
│                   kryskatafund.db                            │
└─────────────────────────────────────────────────────────────┘
```

---

## 2.3. Глава 3 - Проектен цикъл на приложението

### 2.3.1. Методология на разработка

Проектът е разработен с използване на итеративен подход, при който функционалността се добавя постепенно на етапи. Всяка итерация включва:

1. Планиране на функционалността
2. Имплементация
3. Тестване
4. Интеграция

### 2.3.2. Етапи на разработка

**Етап 1: Инициализация на проекта**
- Създаване на ASP.NET Core MVC проект
- Конфигуриране на Entity Framework Core
- Настройка на SQLite база данни
- Създаване на базова структура (Controllers, Views, Models)

**Етап 2: Потребителска система**
- Създаване на User модел
- Имплементация на AccountController
- Разработка на SignIn и SignUp страници
- Настройка на сесийно управление
- Хеширане на пароли

**Етап 3: Модул за кампании**
- Създаване на Fund модел
- Имплементация на FundsController
- Разработка на Create страница с live preview
- Качване и обработка на изображения
- Детайлна страница на кампания

**Етап 4: Система за дарения**
- Създаване на Donation модел
- Имплементация на функционалност за дарения
- Актуализиране на прогреса на кампании
- Показване на списък с дарители

**Етап 5: Главна страница и филтри**
- Дизайн на главната страница
- Категорийни филтри
- Показване на кампании в карти
- CSS анимации и преходи

**Етап 6: Real-time функционалност**
- Live статистики (Today's Impact, Avg. Support)
- Activity feed с последни събития
- Polling за актуализация на данни
- Hash-базирана детекция на промени

**Етап 7: Профил и персонализация**
- Профилна страница
- Buddy персонаж с анимации
- Система за персонализация (очила, шапка, маска)

**Етап 8: Fund Updates**
- Създаване на FundUpdate модел
- Публикуване на актуализации към кампании
- Показване на updates в детайлната страница

### 2.3.3. Използвани технологии

**Back-end:**
- C# 12
- ASP.NET Core 8.0
- Entity Framework Core 8.0
- SQLite

**Front-end:**
- HTML5
- CSS3 с персонализирани анимации
- JavaScript (ES6+)
- Razor синтаксис

**Инструменти:**
- Visual Studio Code
- Git за версионен контрол
- GitHub за хостинг на репозитори
- .NET CLI

### 2.3.4. Структура на проекта

```
KryskataFund/
├── Controllers/
│   ├── HomeController.cs
│   ├── AccountController.cs
│   └── FundsController.cs
├── Models/
│   ├── User.cs
│   ├── Fund.cs
│   ├── Donation.cs
│   ├── FundUpdate.cs
│   ├── CreateFundViewModel.cs
│   ├── SignUpViewModel.cs
│   └── ErrorViewModel.cs
├── Views/
│   ├── Home/
│   │   ├── Index.cshtml
│   │   └── Privacy.cshtml
│   ├── Account/
│   │   ├── SignIn.cshtml
│   │   ├── SignUp.cshtml
│   │   └── Profile.cshtml
│   ├── Funds/
│   │   ├── Create.cshtml
│   │   ├── Details.cshtml
│   │   └── Donate.cshtml
│   └── Shared/
│       ├── _Layout.cshtml
│       └── Error.cshtml
├── Data/
│   └── ApplicationDbContext.cs
├── Migrations/
│   └── [migration files]
├── wwwroot/
│   ├── css/
│   │   └── main.css
│   └── uploads/
├── Docs/
│   └── [documentation]
└── Program.cs
```

### 2.3.5. Основни код фрагменти

**Program.cs - Конфигурация на приложението:**
```csharp
var builder = WebApplication.CreateBuilder(args);

builder.Services.AddControllersWithViews();
builder.Services.AddDbContext<ApplicationDbContext>(options =>
    options.UseSqlite("Data Source=kryskatafund.db"));

builder.Services.AddDistributedMemoryCache();
builder.Services.AddSession(options =>
{
    options.IdleTimeout = TimeSpan.FromMinutes(30);
    options.Cookie.HttpOnly = true;
    options.Cookie.IsEssential = true;
});
```

**ApplicationDbContext.cs - Контекст на базата данни:**
```csharp
public class ApplicationDbContext : DbContext
{
    public DbSet<User> Users { get; set; }
    public DbSet<Fund> Funds { get; set; }
    public DbSet<Donation> Donations { get; set; }
    public DbSet<FundUpdate> FundUpdates { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity<User>()
            .HasIndex(u => u.Email)
            .IsUnique();
    }
}
```

**Fund Model - Computed properties:**
```csharp
[NotMapped]
public int DaysLeft => Math.Max(0, (EndDate - DateTime.UtcNow).Days);

[NotMapped]
public int ProgressPercent => GoalAmount > 0
    ? (int)Math.Min(100, Math.Round(RaisedAmount / GoalAmount * 100))
    : 0;
```

---

## 2.4. Глава 4 - Ръководство за потребителя

### 2.4.1. Системни изисквания

За използване на платформата KryskataFund са необходими:
- Съвременен уеб браузър (Chrome, Firefox, Safari, Edge)
- Интернет връзка
- JavaScript трябва да е активиран

За стартиране на приложението локално:
- .NET 8.0 SDK
- Свободно дисково пространство: ~100 MB

### 2.4.2. Инсталация и стартиране

1. Клонирайте репозиторито:
```bash
git clone https://github.com/Kryskata-C/KryskataFund.git
```

2. Навигирайте до директорията на проекта:
```bash
cd KryskataFund/KryskataFund
```

3. Стартирайте приложението:
```bash
dotnet run
```

4. Отворете браузър и навигирайте до:
```
https://localhost:5001
```

### 2.4.3. Регистрация и вход

**Регистрация на нов потребител:**

1. Натиснете бутона "Sign Up" в горния десен ъгъл
2. Въведете валиден имейл адрес
3. Въведете парола (минимум 6 символа)
4. Потвърдете паролата
5. Натиснете бутона "Sign up"

Фигура 1: Форма за регистрация

**Вход в системата:**

1. Натиснете бутона "Sign In"
2. Въведете вашия имейл адрес
3. Въведете паролата
4. Натиснете бутона "Sign In"

Фигура 2: Форма за вход

### 2.4.4. Главна страница

Главната страница показва всички активни кампании и предоставя следните функционалности:

**Статистики в реално време:**
- Total Raised - общо събрани средства
- Live Campaigns - брой активни кампании
- Today's Impact - събрани средства днес
- Avg. Support - средна сума на дарение

**Филтриране по категории:**
- Натиснете върху желаната категория за филтриране
- Категориите показват броя кампании във всяка

**Activity Feed:**
- Показва последните събития в платформата
- Актуализира се автоматично на всеки 5 секунди

Фигура 3: Главна страница

### 2.4.5. Създаване на кампания

1. Влезте в системата
2. Натиснете бутона "Make a fund"
3. Попълнете формата:
   - **Title** - заглавие на кампанията
   - **Description** - подробно описание
   - **Category** - изберете категория
   - **Goal** - целева сума
   - **Duration** - продължителност в дни
   - **Cover Image** - URL или качете файл

4. Наблюдавайте live preview отдясно
5. Натиснете "Create Campaign"

Фигура 4: Създаване на кампания с live preview

### 2.4.6. Дарение към кампания

1. Отворете детайлната страница на кампания
2. Изберете предварително зададена сума или въведете custom amount
3. Натиснете бутона за дарение
4. Потвърдете дарението

Фигура 5: Страница за дарение

### 2.4.7. Управление на кампания

Като създател на кампания можете:

**Публикуване на актуализации:**
1. Отворете вашата кампания
2. Натиснете бутона "Post Update"
3. Въведете заглавие и съдържание
4. Натиснете "Post Update"

Фигура 6: Публикуване на актуализация

### 2.4.8. Профилна страница

Профилната страница предоставя:
- Преглед на вашия buddy персонаж
- Персонализация на buddy (очила, шапка, маска)
- Изход от системата

**Персонализация на Buddy:**
1. Натиснете върху категория (очила/шапка/маска)
2. Изберете желания аксесоар
3. Промените се запазват автоматично

Фигура 7: Профилна страница с buddy персонализация

---

# 3. Заключение

### 3.1. Постигнати резултати

В рамките на дипломния проект беше успешно разработена уеб платформата KryskataFund, която предоставя пълноценна функционалност за краудфъндинг. Основните постигнати резултати включват:

1. **Функционална потребителска система** - реализирана е пълна система за регистрация, автентикация и управление на потребителски профили с възможност за персонализация.

2. **Модул за управление на кампании** - потребителите могат да създават кампании с rich описания, изображения и категоризация, както и да публикуват актуализации.

3. **Система за дарения** - имплементирана е функционалност за дарения с проследяване на прогреса и показване на дарители.

4. **Модерен потребителски интерфейс** - разработен е атрактивен тъмен дизайн с плавни CSS анимации, live preview и real-time актуализации.

5. **Структуриран и поддържаем код** - спазена е MVC архитектурата, осигуряваща лесна поддръжка и разширяване.

### 3.2. Изводи

Проектът демонстрира успешното приложение на съвременни уеб технологии за създаване на функционално и визуално привлекателно приложение. Работата по проекта потвърди важността на:

- Правилното планиране и структуриране на кода
- Използването на утвърдени архитектурни модели (MVC)
- Итеративния подход в разработката
- Вниманието към потребителското изживяване

### 3.3. Предложения за доразвиване

Платформата може да бъде разширена в следните направления:

1. **Интеграция с платежни системи** - добавяне на реална обработка на плащания чрез Stripe или PayPal.

2. **Нотификационна система** - имейл известия при нови дарения, достигане на цел и др.

3. **Социални функции** - споделяне в социални мрежи, коментари, следване на кампании.

4. **Администраторски панел** - управление на потребители, кампании и модериране на съдържание.

5. **Разширени статистики** - графики за прогреса, демографски данни за дарители.

6. **Мобилна оптимизация** - подобрена responsive функционалност или мобилно приложение.

7. **Многоезичност** - поддръжка на множество езици.

---

# 4. Информационни източници

1. Freeman, A. (2022). *Pro ASP.NET Core 8: Develop Cloud-Ready Web Applications Using MVC, Blazor, and Razor Pages*. Apress.

2. Lock, A. (2023). *ASP.NET Core in Action, Third Edition*. Manning Publications.

3. Microsoft. (2024). *ASP.NET Core Documentation*. https://docs.microsoft.com/aspnet/core

4. Microsoft. (2024). *Entity Framework Core Documentation*. https://docs.microsoft.com/ef/core

5. Mozilla Developer Network. (2024). *CSS: Cascading Style Sheets*. https://developer.mozilla.org/docs/Web/CSS

6. Mozilla Developer Network. (2024). *JavaScript Guide*. https://developer.mozilla.org/docs/Web/JavaScript/Guide

7. W3Schools. (2024). *HTML Tutorial*. https://www.w3schools.com/html/

8. SQLite. (2024). *SQLite Documentation*. https://www.sqlite.org/docs.html

---

# 5. Приложения

## Приложение А: Екранни снимки

### А.1. Главна страница
[Тук се поставя screenshot на главната страница]

### А.2. Форма за създаване на кампания
[Тук се поставя screenshot на формата за създаване]

### А.3. Детайлна страница на кампания
[Тук се поставя screenshot на детайлната страница]

### А.4. Профилна страница
[Тук се поставя screenshot на профила]

## Приложение Б: Пълен списък на commits

Проектът се поддържа в GitHub репозитори: https://github.com/Kryskata-C/KryskataFund

Списък с основни commits:
- Linked all the make fund buttons to the create fund view
- Created the fund controller
- Made the main css file in the wwwroot and the create fund view
- Moved the navbar from the index.cshtml to the layout.cshtml
- Fixed activity feed animation replay bug
- [и други]

## Приложение В: SQL схема на базата данни

```sql
CREATE TABLE Users (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Email TEXT NOT NULL UNIQUE,
    PasswordHash TEXT NOT NULL,
    CreatedAt TEXT NOT NULL,
    BuddyGlasses TEXT,
    BuddyHat TEXT,
    BuddyMask TEXT
);

CREATE TABLE Funds (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Title TEXT NOT NULL,
    Description TEXT NOT NULL,
    Category TEXT NOT NULL,
    GoalAmount REAL NOT NULL,
    RaisedAmount REAL NOT NULL DEFAULT 0,
    SupportersCount INTEGER NOT NULL DEFAULT 0,
    CreatorId INTEGER NOT NULL,
    CreatorName TEXT NOT NULL,
    ImageUrl TEXT,
    CreatedAt TEXT NOT NULL,
    EndDate TEXT NOT NULL,
    CategoryColor TEXT NOT NULL
);

CREATE TABLE Donations (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    FundId INTEGER NOT NULL,
    UserId INTEGER NOT NULL,
    DonorName TEXT NOT NULL,
    Amount REAL NOT NULL,
    CreatedAt TEXT NOT NULL,
    FOREIGN KEY (FundId) REFERENCES Funds(Id)
);

CREATE TABLE FundUpdates (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    FundId INTEGER NOT NULL,
    Title TEXT NOT NULL,
    Content TEXT NOT NULL,
    CreatedAt TEXT NOT NULL,
    FOREIGN KEY (FundId) REFERENCES Funds(Id)
);
```
